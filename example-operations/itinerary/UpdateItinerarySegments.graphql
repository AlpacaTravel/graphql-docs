# Updates an itinerary to add in segments.

mutation UpdateItinerarySegments(
  $id: ID!,
  $segments: JSON!
) {
  # Use the updateItinerary() mutation
  updateItinerary(
    # Supply the itinerary ID
    id: $id
    # Upsert the attribute for the segments
    itinerary: {
      upsertAttrs: [
        {
          # Provide the segment ID of "itinerary/segments"
          id: "itinerary/segments", 
          # Provide the value
          # [{ id: "my-UID", title: "Day One", color: "#FF0000" }]
          value: $segments
        }
      ]
    }
  ) {
    itinerary {
      # Identifiers
      id
      __typename
      
      # Obtain the attribute value
      segments: attrValue(id: "itinerary/segments")
    }
  }
}